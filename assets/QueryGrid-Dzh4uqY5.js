import{r as s,F as w,j as t,P as C}from"./index-CwlP_Vb6.js";import{v as p,D as T}from"./v4-Cq4wv9pH.js";import{S as y}from"./Stack-BhDO9Jra.js";import{B as m}from"./Box-Boeg92cR.js";import{b as k}from"./Select-Hsqj95qv.js";import{T as D}from"./TextField-DkoiRXcq.js";import{B as q}from"./Button-CGuSuvyI.js";import{S as B}from"./Send-DfyV77fY.js";import{T as E}from"./Typography-xoXBV13I.js";import"./DataGrid-w4kcGmRn.js";import"./Dashboard-D3PpfgMi.js";import"./ButtonBase-4W-GQ8bR.js";import"./TransitionGroupContext-Cn_vegxN.js";import"./Toolbar-DrmIiFIy.js";import"./Paper-D5kopiC4.js";import"./useTheme-DOG2b9s6.js";import"./Portal-DlBtAv44.js";import"./useSlotProps-BuXNesls.js";import"./utils-DKEapR5W.js";import"./Slide-BtvnMyw1.js";import"./ownerWindow-CUhIrQJa.js";import"./listItemTextClasses-BQHYGCm_.js";import"./ListItemText-DH0bujFt.js";import"./InputBase-C28EpNuM.js";import"./IconButton-BNA6IsE2.js";import"./iconButtonClasses-CXcMehHk.js";import"./Card-DUG2M8QV.js";import"./Divider-BmE665K6.js";import"./dividerClasses-Jj-tPYHk.js";import"./tabsClasses-VpoEm-xh.js";import"./useThemeProps-B_HjZV-i.js";import"./Fade-B5OkZKVv.js";import"./visuallyHidden-Dan1xhjv.js";import"./Popper-CxWfFhQg.js";import"./Grow-C_PX2mRo.js";import"./DialogContent-uJaxww4i.js";import"./AppTheme-CI2-8Pnk.js";import"./toggleButtonClasses-Fo-F9WNu.js";import"./tabClasses-DZF9oZLr.js";import"./breadcrumb-DkfsLgQa.js";import"./upperCaseFirstletter-xFsbV7lH.js";import"./react-is.production.min-DUDD-a5e.js";import"./Link-1OQFiGRN.js";import"./checkboxClasses-zjEjRyYo.js";import"./ClickAwayListener-DTdSd-Wt.js";import"./FormControlLabel-cSgSgBB2.js";import"./Tooltip-DjaM5NlO.js";import"./Skeleton-D4WsnrzM.js";import"./KeyboardArrowRight-BdRPQzfl.js";import"./LastPage-C0nduwdq.js";import"./TableCell-CFp06H5a.js";const F="http://useful-rivalee-levutanhduoc-0dfdb3a6.koyeb.app/";function Et(){const l={backgroundColor:"#5C6BC0",margin:"10px 0 10px 0",alignSelf:"end"},c={backgroundColor:"#B0BEC5",alignSelf:"start"},d={padding:"5px 15px 5px 15px",maxWidth:"80%",wordWrap:"break-word",borderRadius:"15px"},{setSnack:S}=s.useContext(w),[u,j]=s.useState([]),[x,f]=s.useState(!1),a=s.useRef(null),b=async o=>{o.preventDefault();const h=new FormData(o.currentTarget).get("query"),v=JSON.stringify({command:h}),i=[...u];try{const r=await fetch(F+"query",{method:"post",body:v,credentials:"include",headers:{"Content-Type":"application/json"}});if(r.ok){const e=await r.json();if(i.push(t.jsx(m,{sx:{...d,...l},children:h},p())),e.status)i.push(t.jsx(T,{sx:{...l,...c,maxHeight:400,width:"100%"},data:e.data.rows},p()));else{const g=[];for(const n in e.data.message)g.push(t.jsxs(E,{sx:{paddingLeft:"10px"},children:[n,":",e.data.message[n]]},n));i.push(t.jsxs(m,{sx:{...d,...c},children:["{",g,"}"]},p()))}}}catch(r){let e="";typeof r=="string"?e=r.toUpperCase():r instanceof Error&&(e=r.message),S({isOpen:!0,message:e})}f(!1),j(i)};return s.useEffect(()=>{const o=setTimeout(()=>{a.current&&a.current.scrollIntoView({behavior:"smooth",block:"nearest"})},500);return()=>{clearTimeout(o)}},[x]),t.jsx(t.Fragment,{children:t.jsxs(y,{position:"relative",width:"100%",minHeight:"80vh",children:[t.jsxs(y,{sx:{display:"flex",overflowY:"auto",scrollbarWidth:"none",height:"80vh"},children:[u,t.jsx(C,{sx:{alignSelf:"end",display:`${x?"block":"none"}`},size:"20px"}),t.jsx("div",{id:"archor",ref:a})]}),t.jsxs(m,{component:"form",onSubmit:o=>{b(o),f(!0)},position:"absolute",bottom:"-5%",left:0,display:"flex",flexDirection:"row",width:"100%",children:[t.jsx(k,{sx:{flex:1,display:"flex",flexDirection:"row"},children:t.jsx(D,{id:"query",type:"query",name:"query",placeholder:"Enter command",autoComplete:"query",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined"})}),t.jsxs(q,{type:"submit",variant:"outlined",children:["SEND",t.jsx(B,{sx:{marginLeft:"5px"}})]})]})]})})}export{Et as default};
