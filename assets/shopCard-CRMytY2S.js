import{j as t,r as m,A as T,o as I}from"./index-I3WCFbXW.js";import{C as o}from"./component.module-BD0YSLJX.js";import{i as R}from"./isSale-D05GErbs.js";import{u as q}from"./useTranslation-CiQXBwnT.js";import{B as n}from"./Box-DNtV_4QE.js";import{S}from"./Slide-fchKdBry.js";import{c as j,I as H}from"./IconButton-BvJRnmLf.js";import{T as f}from"./Typography-BVHtj-9O.js";import{S as V}from"./Stack-Ss0VG_D_.js";const z=j(t.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorderOutlined"),A=j(t.jsx("path",{d:"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5m0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5"}),"RemoveRedEyeOutlined"),F=j(t.jsx("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2m6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2z"}),"ShoppingBagOutlined");function L(e,u){let s;switch(u){case"vn":s=e*25195;break;default:s=e}return s}const G=(e,u)=>{const{cart:s,setCart:g}=u;if(s){let c=1;const r=[...s];let a=[],x=!1,l=0;for(const d of r)d.id==e.id&&(c=Number(d.quantity)+1+Number(e.quantity||"0"),r[l].quantity=`${c}`,x=!0),l=l+1;x?a=r:a=[...s,{id:e.id,name:e.name,quantity:`${c}`,price:`${e.price}`,sale:`${e.sale||0}`,timesale:`${e.timesale}`,picture:e.picture}],localStorage.setItem("shopCart",JSON.stringify(a)),g(a)}};function _(e){const{t:u,i18n:s}=q(),[g,c]=m.useState(!1),[r,a]=m.useState(!1),[x,l]=m.useState("start"),[d,v]=m.useState(!1),w=m.useContext(T),$=I(),C=R(`${e.timer}`),p=i=>{const y=new Date(i).getTime(),O=new Date().getTime(),h=y-O,E=Math.floor(h/(24*60*60*1e3)),M=Math.floor(h%(24*60*60*1e3)/(60*60*1e3)),k=Math.floor(h%(60*60*1e3)/(60*1e3)),B=Math.floor(h%(60*1e3)/1e3),D=`${E}d : ${M}h : ${k}m:${B}s`;h>0?l(D):l(void 0)},b=()=>{window.innerWidth<1150?v(!0):v(!1)};m.useEffect(()=>{const i=setInterval(()=>{x&&e.timer&&!r?p(e.timer):clearInterval(i)},1e3);return window.addEventListener("resize",b),()=>{clearInterval(i),window.removeEventListener("resize",b)}},[]);const N=[{name:"add to cart",icon:t.jsx(F,{}),onClick:()=>{G({id:e.id,name:e.name,price:`${e.price}`,sale:`${Number(e.sale||0)/100}`,timesale:`${e.timer}`,picture:e.picture},w)},time:600},{name:"favorite",icon:t.jsx(z,{}),onClick:()=>{},time:700},{name:"show more",icon:t.jsx(A,{}),onClick:()=>{w.setFastViewOpen({isOpen:!0,itemId:e.id})},time:800}];return t.jsx(t.Fragment,{children:t.jsxs(n,{className:`${o.shopCard}`,sx:e.sx?e.sx:{height:"400px"},onMouseOver:()=>{c(!0),a(!0)},onMouseOut:()=>{c(!1),a(!1)},children:[t.jsx(n,{className:`${o.borderGaming} ${g&&o.borderGamingHover}`}),t.jsxs(n,{className:`${o.shopCardContent}`,children:[t.jsxs(n,{sx:{display:"flex",gap:"5px"},children:[t.jsx("span",{className:o.dot}),t.jsx("span",{className:o.dot}),t.jsx("span",{className:o.dot})]}),t.jsxs(n,{sx:{display:"flex",justifyContent:"center",backgroundColor:"#262626",borderRadius:"5px",position:"relative"},children:[t.jsx(n,{sx:{height:"250px",flex:1},children:t.jsx("img",{onClick:()=>{$(e.id)},className:o.shopCardImage,src:e.picture})}),t.jsx(n,{sx:{position:"absolute",overflow:"hidden",width:"100%",height:"20%",bottom:"0",display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(n,{children:N.map(i=>t.jsx(S,{direction:"up",in:d?!0:r,timeout:i.time,mountOnEnter:!0,unmountOnExit:!0,children:t.jsx(H,{onClick:i.onClick,children:i.icon})},i.name))})}),t.jsx(n,{sx:{position:"absolute",overflow:"hidden",width:"100%"},bottom:d?"":"0",children:C&&t.jsx(S,{direction:"up",in:d?!0:!r,timeout:500,mountOnEnter:!0,unmountOnExit:!0,children:t.jsx(f,{sx:{color:"#B22222",backgroundColor:"rgba(0,0,0,0.4)",textAlign:"center"},children:x})})}),C&&t.jsx(n,{sx:{position:"absolute",top:"10px",right:"10px"},className:o.salePill,children:`- ${e.sale}%`})]}),t.jsxs(n,{children:[t.jsx(f,{children:e.name}),t.jsxs(V,{direction:"row",gap:"10px",children:[t.jsxs(f,{sx:{color:"#B22222"},children:["$",Number(e.price)-Number(e.price)*Number((e.sale||0)/100)]}),C&&t.jsx(f,{sx:{textDecoration:"line-through",color:"rgba(211, 211, 211, 0.55)"},children:u("conversion.money",{value:L(e.price,s.language)})})]})]})]})]})})}export{G as A,_ as S,L as m};
