import{j as t,r as s,A as v,D as C}from"./index-Cmwe-C8R.js";import{D as T}from"./DataTable-CF8dxjPM.js";import{S as y}from"./Stack-CZFgWAWF.js";import{B as p}from"./Box-zPS9oF5n.js";import{b as D}from"./Select-CPxXn-eU.js";import{T as k}from"./TextField-DrwcVwxA.js";import{B as q}from"./Button-BdHA2AWH.js";import{c as B}from"./IconButton-BfCg_MN7.js";import{v as m}from"./v4-Ch9TGLTe.js";import{T as E}from"./Typography-OTWVZArR.js";import"./DataGrid-Gmw3hUfD.js";import"./Dashboard-DHeKrIDu.js";import"./Toolbar-8i01Q-Rk.js";import"./Paper-9XnmA2fm.js";import"./useTheme-DxNQxXzT.js";import"./Backdrop-DOpgEXoI.js";import"./utils-DhY_fCm9.js";import"./useSlotProps-C6oBoK6l.js";import"./Slide-yxZ0keZ9.js";import"./ownerWindow-BN2rbQ_G.js";import"./ownerDocument-DW-IO8s5.js";import"./listItemTextClasses-BIbl6RZq.js";import"./ListItemText-CaUesk9P.js";import"./isMuiElement-Cccpbo_5.js";import"./Card-CehO6Aob.js";import"./Divider-CHIF1_pv.js";import"./dividerClasses-8b8wpaUB.js";import"./tabsClasses-BRxMHEAY.js";import"./useThemeProps-Cc7571yr.js";import"./useControlled-By1HjpkG.js";import"./visuallyHidden-Dan1xhjv.js";import"./InputAdornment-EE1tkx3l.js";import"./Popper-CatF4pj-.js";import"./Grow-DNMRW06L.js";import"./DialogContent-D8eEU1Ri.js";import"./AppTheme-jI57vqKS.js";import"./toggleButtonClasses-DaXmhKVh.js";import"./tabClasses-DdtfDrdu.js";import"./breadcrumb-Cxn1zOEL.js";import"./upperCaseFirstletter-xFsbV7lH.js";import"./react-is.production.min-DUDD-a5e.js";import"./LinearProgress-3KYCHGwp.js";import"./Link-BMK6Oh_L.js";import"./checkboxClasses-opf4KW2e.js";import"./ClickAwayListener-DpGMqZuN.js";import"./FormControlLabel-CeCwdDPK.js";import"./Tooltip-CWhpo2gm.js";import"./Skeleton-BgB24gXX.js";import"./KeyboardArrowRight-aFcvLVm0.js";import"./LastPage-Cq6zSZlw.js";import"./TableCell-CmTh6vaN.js";const F=B(t.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),M="http://localhost:3000/";function Ft(){const l={backgroundColor:"#5C6BC0",margin:"10px 0 10px 0",alignSelf:"end"},c={backgroundColor:"#B0BEC5",alignSelf:"start"},d={padding:"5px 15px 5px 15px",maxWidth:"80%",wordWrap:"break-word",borderRadius:"15px"},{setSnack:S}=s.useContext(v),[u,j]=s.useState([]),[x,f]=s.useState(!1),a=s.useRef(null),b=async o=>{o.preventDefault();const h=new FormData(o.currentTarget).get("query"),w=JSON.stringify({command:h}),i=[...u];try{const e=await fetch(M+"query",{method:"post",body:w,credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){const r=await e.json();if(i.push(t.jsx(p,{sx:{...d,...l},children:h},m())),r.status)i.push(t.jsx(T,{sx:{...l,...c,maxHeight:400,width:"100%"},data:r.data.rows},m()));else{const g=[];for(const n in r.data.message)g.push(t.jsxs(E,{sx:{paddingLeft:"10px"},children:[n,":",r.data.message[n]]},n));i.push(t.jsxs(p,{sx:{...d,...c},children:["{",g,"}"]},m()))}}}catch(e){let r="";typeof e=="string"?r=e.toUpperCase():e instanceof Error&&(r=e.message),S({isOpen:!0,message:r})}f(!1),j(i)};return s.useEffect(()=>{const o=setTimeout(()=>{a.current&&a.current.scrollIntoView({behavior:"smooth",block:"nearest"})},500);return()=>{clearTimeout(o)}},[x]),t.jsx(t.Fragment,{children:t.jsxs(y,{position:"relative",width:"100%",minHeight:"80vh",children:[t.jsxs(y,{sx:{display:"flex",overflowY:"auto",scrollbarWidth:"none",height:"80vh"},children:[u,t.jsx(C,{sx:{alignSelf:"end",display:`${x?"block":"none"}`},size:"20px"}),t.jsx("div",{id:"archor",ref:a})]}),t.jsxs(p,{component:"form",onSubmit:o=>{b(o),f(!0)},position:"absolute",bottom:"-5%",left:0,display:"flex",flexDirection:"row",width:"100%",children:[t.jsx(D,{sx:{flex:1,display:"flex",flexDirection:"row"},children:t.jsx(k,{id:"query",type:"query",name:"query",placeholder:"Enter command",autoComplete:"query",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined"})}),t.jsxs(q,{type:"submit",variant:"outlined",children:["SEND",t.jsx(F,{sx:{marginLeft:"5px"}})]})]})]})})}export{Ft as default};
