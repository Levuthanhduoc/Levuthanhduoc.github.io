import{j as e,l as Z,n as ee,s as O,c as De,m as pe,X as Ue,r as d,b as te,v as We,f as V,h as oe,W as _e,i as be,Y as Ge,A as Xe}from"./index-I3WCFbXW.js";import{B as Je}from"./breadcrumb-aA50YQEC.js";import{P as Ye}from"./baseContent-Da5Bu8r4.js";import{T as h}from"./Typography-BVHtj-9O.js";import{C as qe}from"./component.module-BD0YSLJX.js";import{m as Qe,p as Ke,v as Ze,a as et,z as tt}from"./zalo-unQhDHqO.js";import{P as ot,S as st}from"./showCaseBox-yiH_s0Ki.js";import{f as we}from"./fecthData-9SLkk-nw.js";import{a as $e,R as nt}from"./richTextForm-CpQOj8py.js";import{P as Ve}from"./index-BnF7jms-.js";import{A as at}from"./shopCard-CRMytY2S.js";import{i as it}from"./isSale-D05GErbs.js";import{T as Se}from"./textForm-3ikCGeJC.js";import{u as rt}from"./upperCaseFirstletter-xFsbV7lH.js";import{u as Oe,b as Le,S as lt,a as ct}from"./Select-BdJCyDMf.js";import{a as dt,T as pt}from"./TextField-BBZMfPd-.js";import{c as L,b as ut,j as Ce,I as xe}from"./IconButton-BvJRnmLf.js";import{u as mt}from"./useControlled-ptgeMyCW.js";import{v as xt}from"./visuallyHidden-Dan1xhjv.js";import{B as w}from"./Box-DNtV_4QE.js";import{S as b}from"./Stack-Ss0VG_D_.js";import{D as I}from"./Divider-B_qJNzeC.js";import{R as ht}from"./Remove-3_bKFvg2.js";import{A as ft}from"./Add-DBJRnbdc.js";import{B as ie}from"./Button-DCQXrtrW.js";import{T as gt,a as vt}from"./Tabs-Dd2Tw3C2.js";import{a as jt,b as ge,T as N}from"./TableCell-C8WApVJk.js";import{T as yt}from"./Tooltip-Bd571hwU.js";import{L as bt}from"./LinearProgress-7A-sFX5T.js";import{F as wt}from"./Backdrop-BzKM5jQo.js";import"./react-is.production.min-DUDD-a5e.js";import"./useSlotProps-BxS31xzD.js";import"./utils-DHAL--83.js";import"./Skeleton-DE3xx9Lz.js";import"./useTheme-BtXiHbqi.js";import"./Collapse-C9_V_gGc.js";import"./toggleButtonClasses-dmdrdYqR.js";import"./Popper-CNt_8OUf.js";import"./ownerDocument-DW-IO8s5.js";import"./ClickAwayListener-Bgw41vwo.js";import"./Paper-DxTlVd1j.js";import"./useTranslation-CiQXBwnT.js";import"./Slide-fchKdBry.js";import"./ownerWindow-BN2rbQ_G.js";import"./listItemTextClasses-CiOVZ1QG.js";import"./isMuiElement-DmcSjKRo.js";import"./dividerClasses-GL_stfPR.js";import"./Grow-CZOuELKs.js";import"./useThemeProps-B6AQUXeY.js";import"./tabClasses-DQSVpPBV.js";import"./tabsClasses-BeopupRb.js";import"./KeyboardArrowRight-Dsld-tuN.js";const St=L(e.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Ct=L(e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Rt(t){return ee("MuiRating",t)}const re=Z("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function Tt(t){const o=t.toString().split(".")[1];return o?o.length:0}function he(t,o){if(t==null)return t;const s=Math.round(t/o)*o;return Number(s.toFixed(Tt(o)))}const Mt=t=>{const{classes:o,size:s,readOnly:i,disabled:c,emptyValueFocused:r,focusVisible:p}=t,l={root:["root",`size${De(s)}`,c&&"disabled",p&&"focusVisible",i&&"readOnly"],label:["label","pristine"],labelEmptyValue:[r&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return oe(l,Rt,o)},Ft=O("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[{[`& .${re.visuallyHidden}`]:o.visuallyHidden},o.root,o[`size${De(s.size)}`],s.readOnly&&o.readOnly]}})(pe(({theme:t})=>({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${re.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${re.focusVisible} .${re.iconActive}`]:{outline:"1px solid #999"},[`& .${re.visuallyHidden}`]:xt,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:({ownerState:o})=>o.readOnly,style:{pointerEvents:"none"}}]}))),ke=O("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},o)=>[o.label,t.emptyValueFocused&&o.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:t})=>t.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),Ht=O("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.icon,s.iconEmpty&&o.iconEmpty,s.iconFilled&&o.iconFilled,s.iconHover&&o.iconHover,s.iconFocus&&o.iconFocus,s.iconActive&&o.iconActive]}})(pe(({theme:t})=>({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:o})=>o.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:o})=>o.iconEmpty,style:{color:(t.vars||t).palette.action.disabled}}]}))),It=O("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>Ue(t)&&t!=="iconActive",overridesResolver:(t,o)=>{const{iconActive:s}=t;return[o.decimal,s&&o.iconActive]}})({position:"relative",variants:[{props:({iconActive:t})=>t,style:{transform:"scale(1.2)"}}]});function zt(t){const{value:o,...s}=t;return e.jsx("span",{...s})}function Re(t){const{classes:o,disabled:s,emptyIcon:i,focus:c,getLabelText:r,highlightSelectedOnly:p,hover:l,icon:x,IconContainerComponent:f,isActive:S,itemValue:g,labelProps:a,name:z,onBlur:P,onChange:A,onClick:T,onFocus:C,readOnly:U,ownerState:j,ratingValue:M,ratingValueRounded:se}=t,k=p?g===M:g<=M,Y=g<=l,E=g<=c,ne=g===se,W=`${z}-${Oe()}`,D=e.jsx(Ht,{as:f,value:g,className:V(o.icon,k?o.iconFilled:o.iconEmpty,Y&&o.iconHover,E&&o.iconFocus,S&&o.iconActive),ownerState:{...j,iconEmpty:!k,iconFilled:k,iconHover:Y,iconFocus:E,iconActive:S},children:i&&!k?i:x});return U?e.jsx("span",{...a,children:D}):e.jsxs(d.Fragment,{children:[e.jsxs(ke,{ownerState:{...j,emptyValueFocused:void 0},htmlFor:W,...a,children:[D,e.jsx("span",{className:o.visuallyHidden,children:r(g)})]}),e.jsx("input",{className:o.visuallyHidden,onFocus:C,onBlur:P,onChange:A,onClick:T,disabled:s,value:g,id:W,type:"radio",name:z,checked:ne})]})}const At=e.jsx(St,{fontSize:"inherit"}),Dt=e.jsx(Ct,{fontSize:"inherit"});function $t(t){return`${t||"0"} Star${t!==1?"s":""}`}const ve=d.forwardRef(function(o,s){const i=te({name:"MuiRating",props:o}),{className:c,defaultValue:r=null,disabled:p=!1,emptyIcon:l=Dt,emptyLabelText:x="Empty",getLabelText:f=$t,highlightSelectedOnly:S=!1,icon:g=At,IconContainerComponent:a=zt,max:z=5,name:P,onChange:A,onChangeActive:T,onMouseLeave:C,onMouseMove:U,precision:j=1,readOnly:M=!1,size:se="medium",value:k,...Y}=i,E=Oe(P),[ne,W]=mt({controlled:k,default:r,name:"Rating"}),D=he(ne,j),ue=We(),[{hover:R,focus:n},u]=d.useState({hover:-1,focus:-1});let v=D;R!==-1&&(v=R),n!==-1&&(v=n);const[q,_]=d.useState(!1),G=d.useRef(),H=ut(G,s),X=m=>{U&&U(m);const y=G.current,{right:F,left:de,width:Q}=y.getBoundingClientRect();let K;ue?K=(F-m.clientX)/Q:K=(m.clientX-de)/Q;let $=he(z*K+j/2,j);$=_e($,j,z),u(J=>J.hover===$&&J.focus===$?J:{hover:$,focus:$}),_(!1),T&&R!==$&&T(m,$)},ce=m=>{C&&C(m);const y=-1;u({hover:y,focus:y}),T&&R!==y&&T(m,y)},je=m=>{let y=m.target.value===""?null:parseFloat(m.target.value);R!==-1&&(y=R),W(y),A&&A(m,y)},Ee=m=>{m.clientX===0&&m.clientY===0||(u({hover:-1,focus:-1}),W(null),A&&parseFloat(m.target.value)===D&&A(m,null))},Be=m=>{Ce(m.target)&&_(!0);const y=parseFloat(m.target.value);u(F=>({hover:F.hover,focus:y}))},Ne=m=>{if(R!==-1)return;Ce(m.target)||_(!1);const y=-1;u(F=>({hover:F.hover,focus:y}))},[Pe,ye]=d.useState(!1),ae={...i,defaultValue:r,disabled:p,emptyIcon:l,emptyLabelText:x,emptyValueFocused:Pe,focusVisible:q,getLabelText:f,icon:g,IconContainerComponent:a,max:z,precision:j,readOnly:M,size:se},B=Mt(ae);return e.jsxs(Ft,{ref:H,onMouseMove:X,onMouseLeave:ce,className:V(B.root,c,M&&"MuiRating-readOnly"),ownerState:ae,role:M?"img":null,"aria-label":M?f(v):null,...Y,children:[Array.from(new Array(z)).map((m,y)=>{const F=y+1,de={classes:B,disabled:p,emptyIcon:l,focus:n,getLabelText:f,highlightSelectedOnly:S,hover:R,icon:g,IconContainerComponent:a,name:E,onBlur:Ne,onChange:je,onClick:Ee,onFocus:Be,ratingValue:v,ratingValueRounded:D,readOnly:M,ownerState:ae},Q=F===Math.ceil(v)&&(R!==-1||n!==-1);if(j<1){const K=Array.from(new Array(1/j));return e.jsx(It,{className:V(B.decimal,Q&&B.iconActive),ownerState:ae,iconActive:Q,children:K.map(($,J)=>{const me=he(F-1+(J+1)*j,j);return e.jsx(Re,{...de,isActive:!1,itemValue:me,labelProps:{style:K.length-1===J?{}:{width:me===v?`${(J+1)*j*100}%`:"0%",overflow:"hidden",position:"absolute"}}},me)})},F)}return e.jsx(Re,{...de,isActive:Q,itemValue:F},F)}),!M&&!p&&e.jsxs(ke,{className:V(B.label,B.labelEmptyValue),ownerState:ae,children:[e.jsx("input",{className:B.visuallyHidden,value:"",id:`${E}-empty`,type:"radio",name:E,checked:D==null,onFocus:()=>ye(!0),onBlur:()=>ye(!1),onChange:je}),e.jsx("span",{className:B.visuallyHidden,children:x})]})]})});function Vt(t){return ee("MuiTable",t)}Z("MuiTable",["root","stickyHeader"]);const Ot=t=>{const{classes:o,stickyHeader:s}=t;return oe({root:["root",s&&"stickyHeader"]},Vt,o)},Lt=O("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,s.stickyHeader&&o.stickyHeader]}})(pe(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:o})=>o.stickyHeader,style:{borderCollapse:"separate"}}]}))),Te="table",kt=d.forwardRef(function(o,s){const i=te({props:o,name:"MuiTable"}),{className:c,component:r=Te,padding:p="normal",size:l="medium",stickyHeader:x=!1,...f}=i,S={...i,component:r,padding:p,size:l,stickyHeader:x},g=Ot(S),a=d.useMemo(()=>({padding:p,size:l,stickyHeader:x}),[p,l,x]);return e.jsx(jt.Provider,{value:a,children:e.jsx(Lt,{as:r,role:r===Te?null:"table",ref:s,className:V(g.root,c),ownerState:S,...f})})});function Et(t){return ee("MuiTableBody",t)}Z("MuiTableBody",["root"]);const Bt=t=>{const{classes:o}=t;return oe({root:["root"]},Et,o)},Nt=O("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,o)=>o.root})({display:"table-row-group"}),Pt={variant:"body"},Me="tbody",Ut=d.forwardRef(function(o,s){const i=te({props:o,name:"MuiTableBody"}),{className:c,component:r=Me,...p}=i,l={...i,component:r},x=Bt(l);return e.jsx(ge.Provider,{value:Pt,children:e.jsx(Nt,{className:V(x.root,c),as:r,ref:s,role:r===Me?null:"rowgroup",ownerState:l,...p})})});function Wt(t){return ee("MuiTableContainer",t)}Z("MuiTableContainer",["root"]);const _t=t=>{const{classes:o}=t;return oe({root:["root"]},Wt,o)},Gt=O("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,o)=>o.root})({width:"100%",overflowX:"auto"}),Xt=d.forwardRef(function(o,s){const i=te({props:o,name:"MuiTableContainer"}),{className:c,component:r="div",...p}=i,l={...i,component:r},x=_t(l);return e.jsx(Gt,{ref:s,as:r,className:V(x.root,c),ownerState:l,...p})});function Jt(t){return ee("MuiTableHead",t)}Z("MuiTableHead",["root"]);const Yt=t=>{const{classes:o}=t;return oe({root:["root"]},Jt,o)},qt=O("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,o)=>o.root})({display:"table-header-group"}),Qt={variant:"head"},Fe="thead",Kt=d.forwardRef(function(o,s){const i=te({props:o,name:"MuiTableHead"}),{className:c,component:r=Fe,...p}=i,l={...i,component:r},x=Yt(l);return e.jsx(ge.Provider,{value:Qt,children:e.jsx(qt,{as:r,className:V(x.root,c),ref:s,role:r===Fe?null:"rowgroup",ownerState:l,...p})})});function Zt(t){return ee("MuiTableRow",t)}const He=Z("MuiTableRow",["root","selected","hover","head","footer"]),eo=t=>{const{classes:o,selected:s,hover:i,head:c,footer:r}=t;return oe({root:["root",s&&"selected",i&&"hover",c&&"head",r&&"footer"]},Zt,o)},to=O("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,s.head&&o.head,s.footer&&o.footer]}})(pe(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${He.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${He.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:be(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:be(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),Ie="tr",ze=d.forwardRef(function(o,s){const i=te({props:o,name:"MuiTableRow"}),{className:c,component:r=Ie,hover:p=!1,selected:l=!1,...x}=i,f=d.useContext(ge),S={...i,component:r,hover:p,selected:l,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},g=eo(S);return e.jsx(to,{as:r,ref:s,className:V(g.root,c),role:r===Ie?null:"row",ownerState:S,...x})}),oo=L(e.jsx("path",{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2m10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2m-9.83-3.25.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25"}),"AddShoppingCart"),Ae=L(e.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIosOutlined"),so=L([e.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"},"0"),e.jsx("path",{d:"M14 17H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"},"1")],"ArticleOutlined"),no=L(e.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),ao=L(e.jsx("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 12h-2v-2h2zm0-4h-2V6h2z"}),"Feedback"),io=L(e.jsx("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5zm6 9.09c0 4-2.55 7.7-6 8.83-3.45-1.13-6-4.82-6-8.83V6.31l6-2.12 6 2.12zm-9.18-.5L7.4 12l3.54 3.54 5.66-5.66-1.41-1.41-4.24 4.24z"}),"GppGoodOutlined"),ro=L(e.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zm-.5 1.5 1.96 2.5H17V9.5zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m2.22-3c-.55-.61-1.33-1-2.22-1s-1.67.39-2.22 1H3V6h12v9zM18 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"LocalShippingOutlined");function lo(t){const[o,s]=d.useState("start"),i=c=>{const r=new Date(c).getTime(),p=new Date().getTime(),l=r-p,x=Math.floor(l/(24*60*60*1e3)),f=Math.floor(l%(24*60*60*1e3)/(60*60*1e3)),S=Math.floor(l%(60*60*1e3)/(60*1e3)),g=Math.floor(l%(60*1e3)/1e3),a=`${x}d : ${f}h : ${S}m:${g}s`;l>0?s(a):s(void 0)};return d.useEffect(()=>{const c=setInterval(()=>{o&&t.timer?i(t.timer):clearInterval(c)},1e3);return()=>{clearInterval(c)}},[]),e.jsx(e.Fragment,{children:e.jsx(h,{sx:{color:"#B22222",textAlign:"center"},children:o||"END"})})}function co(t){const[o,s]=d.useState(t.value||"");return e.jsx(e.Fragment,{children:e.jsxs(Le,{children:[e.jsx(dt,{htmlFor:t.name,children:rt(t.name)}),e.jsx(pt,{sx:{width:"0",height:"0",opacity:"0",display:"none"},value:o,id:t.name,type:"text",name:t.name,variant:"outlined"}),e.jsx(ve,{sx:{...t.sx},name:"simple-controlled",value:Number(o),onChange:(i,c)=>{s(`${c}`)}})]})})}function po(t){return e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[e.jsxs(b,{direction:"row",gap:"10px",alignItems:"center",children:[e.jsx(h,{children:t.name}),e.jsx(h,{fontSize:"0.875rem",lineHeight:"1.1875rem",children:t.time})]}),e.jsx(ve,{defaultValue:Number(t.rating),size:"small",readOnly:!0}),e.jsx(h,{fontWeight:"500",fontSize:"1.25rem",lineHeight:"1.75rem",children:t.title}),Ve($e(t.comment))]}),e.jsx(I,{})]})}function uo(t){if(!t)return;const o="recentLegos";let s=[t];const i=localStorage.getItem(o);if(i){let r=!1;const p=JSON.parse(i);for(let l of p.data)l.id==t.id&&(r=!0);s=[...p.data],r||s.unshift(t)}s.length>10&&s.pop();const c=JSON.stringify({data:s});localStorage.setItem(o,c)}const le="https://luckybrickserver.onrender.com/",mo={maxWidth:"1540px",width:"100%",margin:"auto",padding:{xs:"25px 0 0 0",sm:"45px 15px 70px 15px",md:"45px 30px 70px 30px",lg:"45px 50px 70px 50px"}},fe=t=>e.jsx(wt,{in:t.value==t.index,mountOnEnter:!0,unmountOnExit:!0,timeout:2e3,children:e.jsx(w,{role:"tabpanel",hidden:t.value!=t.index,id:`simple-tabpanel-${t.index}`,"aria-labelledby":`simple-tab-${t.index}`,sx:{...t.sx,zIndex:"-1"},children:t.children})});function us(){var R;const{id:t}=Ge(),[o,s]=d.useState(0),[i,c]=d.useState(0),[r,p]=d.useState(0),[l,x]=d.useState("relevant"),[f,S]=d.useState(!1),g=d.useContext(Xe),[a,z]=d.useState(),P=it((a==null?void 0:a.timesale)||new Date().toISOString()),[A,T]=d.useState(null),[C,U]=d.useState(null),[j,M]=d.useState(),se=[{name:"master card",icon:Qe},{name:"paypal",icon:Ke},{name:"visa",icon:Ze},{name:"momo",icon:et},{name:"zalopay",icon:tt}],k=[{id:"tab-0",name:"Description"},{id:"tab-1",name:"Additional Information"},{id:"tab-2",name:"Review"}],Y=[{name:"Helpfulness",value:"helpfull"},{name:"Most relevant",value:"relevant"},{name:"Rating - Low to High",value:"ratingASC"},{name:"Rating: High to Low",value:"ratingDES"},{name:"Date - oldest first",value:"dateASC"},{name:"Date - newest first",value:"dateDES"}],E=(n,u,v)=>{const _=[...u].reduce((G,H,X)=>G+H*(X+1),0)/n;return Math.floor(_*10)/10},ne=async()=>{try{const n=await we({url:le+`legos/info?name=legos&id=${t}`,methoud:"get"});if(n){const u=n.rows;z(u[0])}}catch(n){console.log(n)}},W=async()=>{try{const n=await we({url:le+`legos/review?id=${t}`,methoud:"get"});if(n.status){const v=n.rows;U(v[0]),p(E(v[0].total,v[0].detail,{reverse:!1}))}else U({total:0,detail:[0,0,0,0,0]})}catch(n){console.log(n)}},D=async n=>{n.preventDefault();const u=new FormData(n.currentTarget),v=u.get("name"),q=u.get("title"),_=u.get("rating"),G=u.get("comment");let H="";if(v?q?!G||!G.match(/"text":/)?H="Comment must not be empty":_||(H="Rating must not be empty"):H="Title must not be empty":H="Name must not be empty",H!="")T(H);else{u.append("id",`${t}`),T(null);try{const X=await fetch(le+"legos/review",{method:"POST",body:u,credentials:"include"});if(X.ok){const ce=await X.json();ce.status?S(!1):T(ce.data.message[0])}}catch{T("Network error please try again")}}},ue=async()=>{const n=localStorage.getItem("recentLegos");if(!n)return;const u=JSON.parse(n);M(u.data)};return d.useEffect(()=>{ne(),ue(),W()},[t]),d.useEffect(()=>{if(a){const n={id:a.id,name:a.name,price:a.price,image_uploaded_png:a.image_uploaded_png,sale:a.sale,timesale:a.timesale};uo(n)}},[a]),e.jsx(e.Fragment,{children:e.jsxs(w,{sx:mo,children:[e.jsx(Je,{sx:{width:"100%",margin:"auto",padding:"30px 0 30px 0"}}),a&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{sx:{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row"},gap:"15px",width:"100%"},children:[e.jsx(w,{sx:{flex:1,display:"flex",justifyContent:"center"},children:e.jsx(Ye,{sx:{width:"100%",height:"500px",gap:"10px"},pictures:a.image_uploaded_png.map(n=>le+"storage/"+n)})}),e.jsxs(w,{sx:{flex:1,display:"flex",flexDirection:"column",gap:"10px",padding:"0 15px 0 15px"},children:[e.jsx(h,{sx:{fontSize:{md:"26px",lg:"28px"},lineHeight:{md:"31.2px",lg:"33.6px"}},children:a.name}),e.jsxs(w,{display:"flex",flexDirection:"row",alignItems:"center",gap:"15px",sx:{fontSize:"20px",lineHeight:"20px"},children:[e.jsxs(h,{sx:{color:"#B22222",fontSize:"28px",lineHeight:"28px"},children:["$",a.price-a.price*a.sale]}),P&&e.jsxs(h,{sx:{textDecoration:"line-through",color:"rgba(211, 211, 211, 0.55)",fontSize:"20px",lineHeight:"20px"},children:["$",a.price]}),P&&e.jsxs(w,{className:qe.salePill,children:["- ",a.sale*100,"%"]})]}),P&&e.jsxs(w,{sx:{display:"inline-block",padding:{xs:"8px 15px",sm:"16px 30px"},border:"1px solid #B22222",borderRadius:"2.5px",textAlign:"center",minWidth:{xs:"100px",sm:"300px"}},children:[e.jsx(h,{children:"HURRY UP! SALE ENDS IN:"}),e.jsx(lo,{timer:a.timesale})]}),e.jsxs(w,{children:[e.jsx(h,{children:"Quantity"}),e.jsxs(w,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexGrow:0,sx:{borderRadius:"5px",width:"127px",backgroundColor:"rgba(38, 38, 38,0.5)"},children:[e.jsx(xe,{onClick:()=>c(i>0?i-1:0),children:e.jsx(ht,{})}),e.jsx(h,{children:i}),e.jsx(xe,{onClick:()=>c(i+1),children:e.jsx(ft,{})})]})]}),e.jsxs(w,{children:[e.jsxs(ie,{variant:"outlined",color:"error",sx:{color:"#B22222"},onClick:()=>at({id:`${a.id}`,name:a.name,sale:`${a.sale}`,quantity:`${i}`,price:`${a.price}`,timesale:`${a.timesale}`,picture:le+"storage/"+a.image_uploaded_png[0]},g),children:[e.jsx(h,{fontWeight:"600",sx:{padding:"8px 8px 4px 8px"},children:"Add to cart"}),e.jsx(oo,{})]}),e.jsx(xe,{children:e.jsx(no,{})})]}),e.jsx(I,{orientation:"horizontal",flexItem:!0}),e.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",color:"inherit"},children:[e.jsxs(b,{direction:"row",gap:"10px",children:[e.jsx(ro,{}),e.jsx(h,{children:"Deliveries and Returns"})]}),e.jsx(Ae,{})]}),e.jsx(I,{orientation:"horizontal",flexItem:!0}),e.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",color:"inherit"},children:[e.jsxs(b,{direction:"row",gap:"10px",children:[e.jsx(so,{}),e.jsx(h,{children:"Building Instructions"})]}),e.jsx(Ae,{})]}),e.jsx(I,{orientation:"horizontal",flexItem:!0}),e.jsxs(b,{display:"flex",direction:"row",alignItems:"center",gap:"15px",flexWrap:"wrap",children:[e.jsx(io,{}),e.jsxs(h,{children:["Guarantee Safe",e.jsx("br",{}),"Checkout"]}),e.jsx(b,{direction:"row",gap:"5px",children:se.map(n=>e.jsx("img",{style:{width:"48px",height:"30px"},alt:n.name,src:n.icon},n.name))})]})]})]}),e.jsxs(w,{sx:{border:"1px solid rgba(255, 255, 255, 0.12)",margin:"30px 0 30px 0",padding:"0 35px 0 35px ",borderRadius:"5px"},children:[e.jsx(gt,{value:o,onChange:(n,u)=>s(u),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:k.map((n,u)=>e.jsx(vt,{sx:{fontWeight:"bold"},label:n.name,"aria-controls":`simple-tabpanel-${u}`},n.id))}),e.jsx(I,{orientation:"horizontal",flexItem:!0}),e.jsxs(w,{sx:{padding:"35px 0 35px 0"},children:[e.jsx(fe,{value:o,index:0,children:a.description&&Ve($e(a.description))}),e.jsx(fe,{value:o,index:1,children:e.jsx(Xt,{component:w,children:e.jsxs(kt,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[e.jsx(Kt,{children:e.jsxs(ze,{children:[e.jsx(N,{align:"center",children:"Age"}),e.jsx(N,{align:"center",children:"Serial Number"}),e.jsx(N,{align:"center",children:"Total pieces"}),e.jsx(N,{align:"center",children:"Category"})]})}),e.jsx(Ut,{children:e.jsxs(ze,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(N,{align:"center",children:a.age}),e.jsx(N,{align:"center",children:a.serial}),e.jsx(N,{align:"center",children:a.pieces}),e.jsx(N,{align:"center",children:a.category})]})})]})})}),e.jsx(fe,{value:o,index:2,children:C?e.jsxs(e.Fragment,{children:[e.jsxs(b,{direction:{xs:"column",md:"row"},padding:"0 0 40px 0",children:[e.jsxs(b,{padding:{xs:"0 0 40px 0",md:"0"},children:[e.jsx(h,{children:"Overall Rating"}),e.jsxs(b,{direction:"row",alignItems:"center",children:[e.jsx(ve,{name:"size-large",defaultValue:Math.floor(r),size:"large",readOnly:!0}),e.jsxs(h,{sx:{padding:"8px 8px 2px 8px"},children:[r," (",C.total," Reviews)"]})]})]}),e.jsx(I,{orientation:"vertical",flexItem:!0}),e.jsx(I,{orientation:"horizontal",flexItem:!0}),e.jsx(b,{flexGrow:1,padding:{xs:"40px 0 0 0",md:"0 0 0 40px"},children:C.detail.map((n,u)=>{const v=Math.abs(u-4),q=C.detail[v]/C.total*100;return e.jsxs(b,{direction:"row",justifyItems:"center",alignItems:"center",children:[e.jsxs(h,{sx:{flexShrink:0},children:[v+1," star"]}),e.jsx(ot,{sx:{width:{xs:"100px",sm:"300px",md:"25vw"}},fill:q}),e.jsxs(h,{sx:{flexShrink:0},children:["(",C.detail[v],")"]})]},u)})})]}),e.jsx(I,{orientation:"horizontal",flexItem:!0}),e.jsx(b,{padding:{xs:"40px 0 40px 0"},children:e.jsxs(b,{gap:"10px",children:[e.jsxs(b,{flexDirection:"row",justifyContent:"space-between",children:[e.jsx(Le,{size:"small",sx:f?{display:"flex",flexDirection:"row",justifyContent:"left"}:{},children:e.jsx(lt,{sx:{padding:"0",maxWidth:"200px"},value:l,onChange:n=>{x(n.target.value)},id:"sortOption",children:Y.map(n=>e.jsx(ct,{value:n.value,children:n.name},n.name))})}),e.jsx(yt,{title:"Leave a FeedBack",children:e.jsx(ie,{sx:{maxWidth:"200px"},variant:f?"outlined":"contained",onClick:()=>S(!f),children:e.jsx(ao,{})})})]}),e.jsx(I,{}),f&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{component:"form",onSubmit:D,sx:{width:"100%",position:"relative"},gap:"10px",display:"flex",flexDirection:"column",children:[A&&e.jsxs(h,{color:"#E74C3C",children:["*",A]}),e.jsx(h,{fontSize:"1.5em",fontWeight:600,children:"Write a Feedback"}),e.jsxs(b,{direction:{xs:"column",md:"row"},gap:"5px",children:[e.jsx(Se,{name:"name"}),e.jsx(Se,{name:"title"})]}),e.jsx(nt,{name:"comment"}),e.jsxs(b,{direction:"row",justifyContent:"space-between",children:[e.jsx(co,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},name:"rating"}),e.jsx(ie,{type:"submit",variant:"contained",children:"Submit"})]})]}),e.jsx(I,{})]}),e.jsx(b,{gap:"10px",children:(R=C.review)==null?void 0:R.map(n=>e.jsx(po,{...n},n.name+n.time))})]})})]}):e.jsx(bt,{})})]})]})]}),j&&e.jsx(st,{title:"Recently Explored",item:j})]})})}export{us as default};
